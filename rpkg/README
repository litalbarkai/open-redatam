1. I unzipped the chilean census in the dev/ folder
2. Then I tested running `dev/quick-test.r` from bash by doing `cd ~/github/redatam-converter/rpkg/ && Rscript dev/quick-test.r`. This loads everything with a permanent package installation and allows to run `devtools::load_all()` to test small changes.
3. If there are no load errors, then I install the package by doing `cd ~/github/redatam-converter/rpkg/ && R CMD INSTALL .`
3. Then I tested running dev/valgrind-test.r from bash by doing `cd ~/github/redatam-converter/rpkg/ && r_valgrind dev/quick-test.r`. That R call writes `dev/valgrind-test.txt` for the valgrind output.

For step 3 I use this function in my .bashrc file (`src/Makevars` already has debug symbols and no optimization flags):

```
function r_valgrind () {
    # if no argument is provided, ask for a file
    if [ -z "$1" ]; then
        read -p "Enter the script to debug: " script
    else
        script=$1
    fi

    # if no output file is provided, use the same filename but ended in txt
    if [ -z "$2" ]; then
        output="${script%.*}.txt"
    else
        output=$2
    fi

    # if the file does not exist, exit
    if [ ! -f "$script" ]; then
        echo "File $script does not exist"
        return 1
    fi

    # if the file does not end in .R/.r, exit
    shopt -s nocasematch
    if [[ "$script" != *.R ]]; then
        echo "File $script does not end in .R or .r"
        return 1
    fi
    shopt -u nocasematch

    R --vanilla -d 'valgrind -s --track-origins=yes' -f $script 2>&1 | tee $output
}

# create an alias for R
alias r="R"
alias rvalgrind="R --vanilla -d 'valgrind -s --track-origins=yes'"
```
